# Go 安装配置

[李文周的 GO 开发博客][1]

[1]: https://www.liwenzhou.com/posts/Go/go_menu/

- 下载地址
- Go 官网下载地址：https://golang.org/dl/
- Go 官方镜像站（推荐）：https://golang.google.cn/dl/
- GOROOT 和 GOPATH 都是环境变量，其中 GOROOT 是我们安装 go 开发包的路径，而从 Go 1.8 版本开始，Go 开发包在安装完成后会为 GOPATH 设置一个默认目录，参见下表。

## GOPROXY

- Go1.14 版本之后，都推荐使用 go mod 模式来管理依赖环境了，也不再强制我们把代码必须写在 GOPATH 下面的 src 目录了，你可以在你电脑的任意位置编写 go 代码。（网上有些教程适用于 1.11 版本之前。）
- 默认 GoPROXY 配置是：GOPROXY=https://proxy.golang.org,direct，由于国内访问不到https://proxy.golang.org，所以我们需要换一个PROXY，这里推荐使用https://goproxy.io或https://goproxy.cn。
- 可以执行下面的命令修改 GOPROXY：
- go env -w GOPROXY=https://goproxy.cn,direct

## 将 go 换成国内源

- go env -w GO111MODULE=on
- go env -w GOPROXY=https://goproxy.cn,direct

## 手动下载 go 插件

- 显示 go 的环境
- go env

- 找到输出信息中的 GOPATH 并进入该文件夹。在该文件夹下新建文件夹 go/src/golang.org/x 并进入，然后执行下面命令。

- git clone git@github.com:golang/tools.git
- git clone git@github.com:golang/crypto.git
- git clone git@github.com:golang/lint.git
- git clone git@github.com:golang/xerrors.git
- git clone git@github.com:golang/sync.git

- 最后，在 VSCode 用 F1 或 ctrl+shift+p 打开命令面板，搜索 Go: Install/Update Tools，用这个命令来更新插件的依赖，如果安装完没报错就成功了

## 安装 Go 语言开发工具包

- 在座 Go 语言开发的时候为我们提供诸如代码提示、代码自动补全等功能。
- 在此之前请先设置 GOPROXY，打开终端执行以下命令：
  > `go env -w GOPROXY=https://goproxy.cn,direct`  
  > Windows 平台按下`Ctrl+Shift+P`，Mac 平台按`Command+Shift+P`，这个时候 VS Code 界面会弹出一个输入框
- 我们在这个输入框中输入`>go:install`，下面会自动搜索相关命令，我们选择`Go:Install/Update Tools这个命令`，按下图选中并会回车执行该命令（或者使用鼠标点击该命令）

## 配置代码片段快捷键

- 还是按 Ctrl/Command+Shift+P,按下图输入>snippets，选择命令并执行，进入 go.json 页面
- 其中$0 表示最终光标提留的位置。 举个例子，我这里创建了两个快捷方式，一个是输入`pln`就会在编辑器中插入`fmt.Println()`代码；输入`plf`，就会插入`fmt.Printf("")`代码。

```json
{
  "println": {
    "prefix": "pln",
    "body": "fmt.Println($0)",
    "description": "println"
  },
  "printf": {
    "prefix": "plf",
    "body": "fmt.Printf(\"$0\")",
    "description": "printf"
  }
}
```
